<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Задание 3</title>
</head>

<body>
    <textarea id="area" autofocus></textarea>
    <div id="view">Text</div>


    <script>
        'use strrict';
        var tf = document.getElementById("texfield");
		
		document.addEventListener("keydown", function(event) {
			
			try {
				if ((event.ctrlKey || event.metaKey) && event.code === "KeyE") {
					event.preventDefault();
					var di = document.querySelector('div');
					di.outerHTML = '<textarea>' + di.innerHTML + '</textarea>'
				} else if ((event.ctrlKey || event.metaKey) && event.code === "KeyS") {
					event.preventDefault();
					var di = document.querySelector('textarea');
					di.outerHTML = '<div>' + di.value + '</div>'
				} else if (event.code === "Escape") {
					event.preventDefault();
					var di = document.querySelector('textarea');
					di.outerHTML = '<div>' + di.innerHTML + '</div>'
				}
			} catch (err) {console.log('!!!')};
		});
    </script>
</body>

</html>